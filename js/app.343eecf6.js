(function(t){function e(e){for(var a,n,r=e[0],c=e[1],o=e[2],p=0,m=[];p<r.length;p++)n=r[p],i[n]&&m.push(i[n][0]),i[n]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(m.length)m.shift()();return l.push.apply(l,o||[]),s()}function s(){for(var t,e=0;e<l.length;e++){for(var s=l[e],a=!0,r=1;r<s.length;r++){var c=s[r];0!==i[c]&&(a=!1)}a&&(l.splice(e--,1),t=n(n.s=s[0]))}return t}var a={},i={app:0},l=[];function n(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=a,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(s,a,function(e){return t[e]}.bind(null,a));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var o=0;o<r.length;o++)e(r[o]);var u=c;l.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0035":function(t,e,s){},"034f":function(t,e,s){"use strict";var a=s("64a9"),i=s.n(a);i.a},"2bde":function(t,e,s){"use strict";var a=s("0035"),i=s.n(a);i.a},"4ee2":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),i=(s("4ee2"),s("5c96")),l=s.n(i),n=(s("0fae"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[t._m(0),s("section",{staticClass:"main"},[s("Search")],1)])}),r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",[s("span",{staticClass:"title"},[t._v("表格数据查询")])])}],c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrap"},[s("ul",{staticClass:"types-wrap"},[s("li",{staticClass:"types-item"},[s("p",{staticClass:"label-line"},[t._v("数据总量说明")]),s("div",{staticClass:"list-wrap"},[s("p",{staticClass:"list-item total-item family-item"},[s("span",{staticClass:"total-label family-num"},[t._v("A表总数（户）")]),s("span",{staticClass:"total-num"},[s("count-to",{attrs:{startVal:0,endVal:t.familyNum,duration:2e3}})],1)]),s("p",{staticClass:"list-item total-item person-item"},[s("span",{staticClass:"total-label person-num"},[t._v("B表总数（人）")]),s("span",{staticClass:"total-num"},[s("count-to",{attrs:{startVal:0,endVal:t.personNum,duration:2e3}})],1)])])]),s("li",{staticClass:"types-item"},[s("p",{staticClass:"label-line"},[t._v("单表查询（B表）")]),s("div",{staticClass:"list-wrap table-wrap"},[s("div",{staticClass:"list-item search-item"},[s("span",{staticClass:"label"},[t._v("查询模板1：全表***总人数")]),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.search("family")}}},[t._v("查询")]),s("p",{staticClass:"state-wrap"},[s("span",{staticClass:"time"},[t._v(t._s(t.familySearchTime)+"ms")]),s("search-state",{attrs:{state:t.familySearchState}})],1)],1),s("div",{staticClass:"list-item search-item"},[s("span",{staticClass:"label"},[t._v("查询模板2：全表*****总人数")]),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.search("person")}}},[t._v("查询")]),s("p",{staticClass:"state-wrap"},[s("span",{staticClass:"time"},[t._v(t._s(t.personSearchTime)+"ms")]),s("search-state",{attrs:{state:t.personSearchState}})],1)],1)])]),s("li",{staticClass:"types-item"},[s("p",{staticClass:"label-line"},[t._v("跨表查询（A表、B表）")]),s("div",{staticClass:"list-wrap table-wrap"},[s("div",{staticClass:"list-item search-item"},[s("span",{staticClass:"label"},[t._v("查询模板1：A表出生人口数与B表出生人数不一致的总户数")]),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.search("cross")}}},[t._v("查询")]),s("p",{staticClass:"state-wrap"},[s("span",{staticClass:"time"},[t._v(t._s(t.crossSearchTime)+"ms")]),s("search-state",{attrs:{state:t.crossSearchState}})],1)],1)])]),s("li",{staticClass:"types-item"},[s("p",{staticClass:"label-line"},[t._v("自定义查询")]),s("div",{staticClass:"list-wrap table-wrap"},[s("div",{staticClass:"list-item search-item"},[s("span",{staticClass:"label select",on:{click:function(e){return t.showTip(null,1)}}},[t._v("选择指标")]),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.search("diy")}}},[t._v("查询")]),s("p",{staticClass:"state-wrap"},[s("span",{staticClass:"time"},[t._v(t._s(t.diySearchTime)+"ms")]),s("search-state",{attrs:{state:t.diySearchState}})],1)],1)])])]),s("el-dialog",{attrs:{visible:t.dialogVisible,"custom-class":t.customClass},on:{"update:visible":function(e){t.dialogVisible=e}}},[0===t.dialogFlag?s("result-dialog",{attrs:{result:t.resultObj}}):t._e(),1===t.dialogFlag?s("select-dialog",{attrs:{result:t.resultObj}}):t._e()],1)],1)},o=[],u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"state"},[1===t.state?s("span",{staticClass:"flag"},[t._v("查询中\n    "),t._m(0)]):2===t.state?s("span",{staticClass:"flag"},[t._v("成功"),s("i",{staticClass:"ico complite"})]):s("span",{staticClass:"flag"},[t._v("就绪")])])},p=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"ico-wrap"},[s("i",{staticClass:"ico search"})])}],m={name:"searchState",props:{state:{type:Number,default:0}}},d=m,f=(s("2bde"),s("2877")),h=Object(f["a"])(d,u,p,!1,null,"29134f22",null),v=h.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content-wrap"},[t._m(0),s("ul",{staticClass:"result-wrap"},[s("li",{staticClass:"result-item inner-item"},[s("span",{staticClass:"result-label"},[t._v("数据总数：")]),s("span",{staticClass:"result"},[t._v(t._s(t.result.totalNum)+" 人")])]),s("li",{staticClass:"result-item"},[s("span",{staticClass:"result-label"},[t._v("查询结果（符合查询条件）：")]),s("span",{staticClass:"result"},[t._v(t._s(t.result.fitNum)+" 人")])]),s("li",{staticClass:"result-item right-line"},[s("i",{staticClass:"right inner-item"}),s("span",{staticClass:"inner-item"},[t._v("查询完成，查询共耗时")]),s("span",{staticClass:"total-time"},[t._v(t._s(t.result.searchTime)+"ms")])])])])},_=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h1",{staticClass:"dialog-title"},[s("i",{staticClass:"title-ico"}),s("span",[t._v("查询结果")]),s("i",{staticClass:"title-ico reverse"})])}],g={name:"resultDialog",data(){return{}},props:{result:{type:Object,default(){return{totalNum:"--",fitNum:"--",searchTime:"--"}}}},methods:{},mounted(){}},C=g,y=(s("7ab6"),Object(f["a"])(C,b,_,!1,null,"088b3494",null)),S=y.exports,w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content-wrap"},[t._m(0),s("ul",{staticClass:"tab"},t._l(["A表","B表"],function(e,a){return s("li",{key:a,class:["tab-item",{active:t.currentIndex===a}],on:{click:function(e){return t.changeTable(a)}}},[t._v(t._s(e))])}),0),s("ul",{staticClass:"select-wrap"},t._l(t.conditionList.length,function(e,a){return s("li",{key:"c"+a,staticClass:"select-item"},[s("section",{staticClass:"left-wrap"},[a>0?s("el-select",{attrs:{clearable:"",placeholder:"请选择逻辑关系"},model:{value:t.conditionList[a].logic1,callback:function(e){t.$set(t.conditionList[a],"logic1",e)},expression:"conditionList[index].logic1"}},t._l(t.logicList,function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1):t._e(),s("el-select",{attrs:{clearable:"",placeholder:"请选择指标"},model:{value:t.conditionList[a].target,callback:function(e){t.$set(t.conditionList[a],"target",e)},expression:"conditionList[index].target"}},t._l(t.targetList,function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),s("el-select",{attrs:{clearable:"",placeholder:"请选择逻辑关系"},model:{value:t.conditionList[a].logic2,callback:function(e){t.$set(t.conditionList[a],"logic2",e)},expression:"conditionList[index].logic2"}},t._l(t.logicList,function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),s("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.conditionList[a].input,callback:function(e){t.$set(t.conditionList[a],"input",e)},expression:"conditionList[index].input"}})],1),s("p",{staticClass:"option-wrap"},[a<4?s("span",{staticClass:"option-item add",on:{click:function(e){return t.addLine(a)}}},[t._v("增加")]):t._e(),0!==a?s("span",{staticClass:"option-item",on:{click:function(e){return t.delLine(a)}}},[t._v("删除")]):t._e()])])}),0)])},L=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h1",{staticClass:"dialog-title"},[s("i",{staticClass:"title-ico"}),s("span",[t._v("设置查询条件")]),s("i",{staticClass:"title-ico reverse"})])}],k={name:"selectDialog",data(){return{currentIndex:0,logicList:[{value:"and",label:"并且（and）"},{value:"or",label:"或者（or）"}],targetList:[{value:"年龄",label:"年龄"},{value:"籍贯",label:"籍贯"},{value:"婚姻状况",label:"婚姻状况"}],conditionList:[{logic1:"",target:"",logic2:"",input:""}]}},props:{result:{}},methods:{changeTable(t){this.currentIndex=t,this.conditionList.splice(0,this.conditionList.length,{logic1:"",target:"",logic2:"",input:""})},addLine(t){5!==this.conditionList.length&&this.conditionList.splice(t+1,0,{logic1:"",target:"",logic2:"",input:""})},delLine(t){this.conditionList.splice(t,1)}},mounted(){}},T=k,x=(s("c051"),Object(f["a"])(T,w,L,!1,null,"388b3df4",null)),O=x.exports,j=s("ec1b"),N=s.n(j),$=s("5118"),M={name:"search",components:{searchState:v,resultDialog:S,selectDialog:O,countTo:N.a},data(){return{familyNum:223452,personNum:134543804,familySearchTime:0,familySearchState:0,personSearchTime:0,personSearchState:0,crossSearchTime:0,crossSearchState:0,diySearchTime:0,diySearchState:0,dialogVisible:!1,resultObj:{totalNum:"223,452,345",fitNum:"223,452,34",searchTime:466},dialogFlag:0}},computed:{customClass(){return 1===this.dialogFlag?"tip-dialog select-dialog":"tip-dialog"}},methods:{search(t){if(t)switch(t){case"family":this.getResult("family");break;case"person":this.getResult("person");break;case"cross":this.getResult("cross");break;case"diy":this.getResult("diy");break;default:break}},getResult(t){let e=`${t}SearchState`,s=`${t}SearchTime`,a=this,i=Math.floor(3e3*Math.random()),l=Math.floor(1e5*Math.random()),n=Math.floor(1e5*Math.random());a[e]=1,a[s]=0;const r=Object($["setInterval"])(()=>{a[s]+=4});Object($["setTimeout"])(()=>{a[e]=2,Object($["clearInterval"])(r),a[s]=i,this.showTip({totalNum:l,fitNum:n,searchTime:a[s]})},i)},showTip(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.dialogFlag=e?1:0,this.dialogVisible=!0,t&&(this.resultObj={totalNum:t.totalNum,fitNum:t.fitNum,searchTime:t.searchTime})}},mounted(){}},E=M,V=(s("7572"),Object(f["a"])(E,c,o,!1,null,null,null)),P=V.exports,B={name:"app",components:{Search:P}},F=B,I=(s("034f"),Object(f["a"])(F,n,r,!1,null,null,null)),R=I.exports;a["default"].config.productionTip=!1,a["default"].use(l.a),new a["default"]({render:t=>t(R)}).$mount("#app")},"64a9":function(t,e,s){},"740f":function(t,e,s){},7572:function(t,e,s){"use strict";var a=s("e5ce"),i=s.n(a);i.a},"7ab6":function(t,e,s){"use strict";var a=s("983f"),i=s.n(a);i.a},"983f":function(t,e,s){},c051:function(t,e,s){"use strict";var a=s("740f"),i=s.n(a);i.a},e5ce:function(t,e,s){}});